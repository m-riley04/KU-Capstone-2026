# =============================================================================
# Polypod Kiosk — rpi-image-gen top-level configuration
# =============================================================================
# Build:  ./build.sh
# Manual: rpi-image-gen build -S . -c config/polypod-kiosk.yaml
#
# Override at build time:
#   rpi-image-gen build -S . -c config/polypod-kiosk.yaml \
#     -- IGconf_device_hostname=polypod-dev IGconf_image_name=polypod-dev
# =============================================================================

include:
  file: bookworm-minbase.yaml

device:
  layer: rpi5
  hostname: polypod
  user1: pi
  # CHANGE THIS — or override with IGconf_device_user1pass
  user1pass: 'PolyP0d!!'

image:
  layer: image-rpios
  boot_part_size: 512M
  root_part_size: 4G
  # Separate data partition for Flutter app bundles (survives image updates)
  # This is created by the post-build hook
  name: polypod-kiosk

# Custom layers — order matters (later layers override earlier ones)
layer:
  app: polypod

# SSH public key for remote access (TODO:)
#ssh:
#  pubkey_user1: ""
